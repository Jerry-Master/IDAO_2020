---
title: "R Notebook"
output: html_notebook
---

Llibraries
```{r}
library(readr)
library(car)
library(emmeans)
library(tables)
library(RcmdrMisc)
library(dplyr)
```

Dades
```{r}
setwd("../../data")
train <- read_csv("train.csv")

test <- read_csv("test.csv") 

test$epoch <- as.numeric(as.POSIXct(test$epoch))
train$epoch <- as.numeric(as.POSIXct(train$epoch))

test$epoch <- test$epoch - min(train$epoch)
train$epoch <- train$epoch - min(train$epoch)

head(train)
head(test)
```

Las pruebas se haran sobre el 249
```{r}
pr_train <- filter(train, sat_id == 249)
pr_test <- filter(test, sat_id == 249)
```

Estimar el plano
```{r}

```

Corregir el plano
```{r}

```

Estimar los ejes
```{r}

```

Predecir
```{r}

```

Contra-corregir el plano
```{r}

```

Pasar a csv para visualizar
```{r}
no_scientific <- function(ans, sim=F) {
  ans$id <- format(ans$id, scientific = F)
  ans$x <- format(ans$x, scientific = F)
  ans$y <- format(ans$y, scientific = F)
  ans$z <- format(ans$z, scientific = F)
  ans$Vx <- format(ans$Vx, scientific = F)
  ans$Vy <- format(ans$Vy, scientific = F)
  ans$Vz <- format(ans$Vz, scientific = F)
  
  if (sim) {
    ans$x_sim <- format(ans$x_sim, scientific = F)
    ans$y_sim <- format(ans$y_sim, scientific = F)
    ans$z_sim <- format(ans$z_sim, scientific = F)
    ans$Vx_sim <- format(ans$Vx_sim, scientific = F)
    ans$Vy_sim <- format(ans$Vy_sim, scientific = F)
    ans$Vz_sim <- format(ans$Vz_sim, scientific = F)
  }
  ans
}

pr_train <- no_scientific(pr_train, T)
pr_test <- no_scientific(pr_test)
write_csv(pr_train, "train.csv", quote=F, row.names=F)
write_csv(pr_test, "test.csv", quote=F, row.names=F)
```














